<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Mysql on 趣味互联网</title>
    <link>http://:1313/tmp/tags/mysql/</link>
    <description>Recent content in Mysql on 趣味互联网</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Thu, 21 Aug 2014 05:33:53 +0000</lastBuildDate>
    <atom:link href="http://:1313/tmp/tags/mysql/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>proc_open使用一例</title>
      <link>http://:1313/tmp/2014/08/proc_open%E4%BD%BF%E7%94%A8%E4%B8%80%E4%BE%8B/</link>
      <pubDate>Thu, 21 Aug 2014 05:33:53 +0000</pubDate>
      
      <guid>http://:1313/tmp/2014/08/proc_open%E4%BD%BF%E7%94%A8%E4%B8%80%E4%BE%8B/</guid>
      <description>&lt;p&gt;平时工作中很少用到&lt;a href=&#34;http://cn2.php.net/proc_open&#34;&gt;proc_open&lt;/a&gt;这个函数，最近用这个函数做了一个数据库管理小程序。&lt;/p&gt;

&lt;p&gt;实现如下：&lt;/p&gt;

&lt;div class=&#34;codecolorer-container php blackboard&#34; style=&#34;overflow:auto;white-space:nowrap;&#34;&gt;
  &lt;table cellspacing=&#34;0&#34; cellpadding=&#34;0&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;line-numbers&#34;&gt;
        &lt;div&gt;
          1&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt;4&lt;br /&gt;5&lt;br /&gt;6&lt;br /&gt;7&lt;br /&gt;8&lt;br /&gt;9&lt;br /&gt;10&lt;br /&gt;11&lt;br /&gt;12&lt;br /&gt;13&lt;br /&gt;14&lt;br /&gt;15&lt;br /&gt;16&lt;br /&gt;17&lt;br /&gt;18&lt;br /&gt;19&lt;br /&gt;20&lt;br /&gt;21&lt;br /&gt;22&lt;br /&gt;
        &lt;/div&gt;
      &lt;/td&gt;
      
      &lt;td&gt;
        &lt;div class=&#34;php codecolorer&#34;&gt;
          &lt;span class=&#34;co1&#34;&gt;//file name db.php&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;re0&#34;&gt;$mysql_list&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&lt;/span&gt; &lt;a href=&#34;http://www.php.net/array&#34;&gt;&lt;span class=&#34;kw3&#34;&gt;array&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;st_h&#34;&gt;&#39;test&#39;&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&gt;&lt;/span&gt; &lt;span class=&#34;st_h&#34;&gt;&#39;mysql -hlocalhost -utest -p123456 -P3306 test&#39;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;st_h&#34;&gt;&#39;test2&#39;&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&gt;&lt;/span&gt; &lt;span class=&#34;st_h&#34;&gt;&#39;mysql -h172.16.190.199 -utest2 -p654321 -P3306 test2&#39;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;re0&#34;&gt;$desc&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&lt;/span&gt; &lt;a href=&#34;http://www.php.net/array&#34;&gt;&lt;span class=&#34;kw3&#34;&gt;array&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;nu0&#34;&gt;&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&gt;&lt;/span&gt; STDIN&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;nu0&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&gt;&lt;/span&gt; STDOUT&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;nu0&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&gt;&lt;/span&gt; STDERR&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;re0&#34;&gt;$flag&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;re0&#34;&gt;$argv&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span class=&#34;nu0&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#93;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;re0&#34;&gt;$env&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;re0&#34;&gt;$_ENV&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;re0&#34;&gt;$cwd&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&lt;/span&gt; &lt;a href=&#34;http://www.php.net/getcwd&#34;&gt;&lt;span class=&#34;kw3&#34;&gt;getcwd&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;kw1&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;!&lt;/span&gt;&lt;a href=&#34;http://www.php.net/isset&#34;&gt;&lt;span class=&#34;kw3&#34;&gt;isset&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;re0&#34;&gt;$mysql_list&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span class=&#34;re0&#34;&gt;$flag&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#93;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &lt;a href=&#34;http://www.php.net/exit&#34;&gt;&lt;span class=&#34;kw3&#34;&gt;exit&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;st0&#34;&gt;&#34;can not found the &lt;span class=&#34;es4&#34;&gt;$flag&lt;/span&gt;&#34;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;re0&#34;&gt;$re&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&lt;/span&gt; &lt;a href=&#34;http://www.php.net/proc_open&#34;&gt;&lt;span class=&#34;kw3&#34;&gt;proc_open&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;re0&#34;&gt;$cmd&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;re0&#34;&gt;$desc&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;re0&#34;&gt;$pipes&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;re0&#34;&gt;$cwd&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;re0&#34;&gt;$env&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;kw1&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;re0&#34;&gt;$re&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &lt;a href=&#34;http://www.php.net/exit&#34;&gt;&lt;span class=&#34;kw3&#34;&gt;exit&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;st_h&#34;&gt;&#39;failed to execute cmd&#39;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#125;&lt;/span&gt;
        &lt;/div&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;这样有很多数据库需要管理的时候就比较容易了，直接配置下连接参数，然后：&lt;/p&gt;

&lt;p&gt;php db.php test&lt;/p&gt;

&lt;p&gt;简单实用吧~&lt;/p&gt;

&lt;p&gt;补一个bash实现的。&lt;/p&gt;

&lt;div class=&#34;codecolorer-container bash blackboard&#34; style=&#34;overflow:auto;white-space:nowrap;&#34;&gt;
  &lt;table cellspacing=&#34;0&#34; cellpadding=&#34;0&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;line-numbers&#34;&gt;
        &lt;div&gt;
          1&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt;4&lt;br /&gt;5&lt;br /&gt;6&lt;br /&gt;7&lt;br /&gt;8&lt;br /&gt;9&lt;br /&gt;10&lt;br /&gt;11&lt;br /&gt;12&lt;br /&gt;13&lt;br /&gt;
        &lt;/div&gt;
      &lt;/td&gt;
      
      &lt;td&gt;
        &lt;div class=&#34;bash codecolorer&#34;&gt;
          &lt;span class=&#34;co0&#34;&gt;#!/bin/bash&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;re2&#34;&gt;flag&lt;/span&gt;=&lt;span class=&#34;re4&#34;&gt;$1&lt;/span&gt;;&lt;br /&gt; &lt;span class=&#34;kw1&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;re1&#34;&gt;$flag&lt;/span&gt; &lt;span class=&#34;kw1&#34;&gt;in&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &lt;span class=&#34;st_h&#34;&gt;&#39;test&#39;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;mysql &lt;span class=&#34;re5&#34;&gt;-hlocalhost&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-utest&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-p123456&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-P3306&lt;/span&gt; &lt;span class=&#34;kw3&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;sy0&#34;&gt;;;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &lt;span class=&#34;st_h&#34;&gt;&#39;test2&#39;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;mysql -h172.16.190.199 &lt;span class=&#34;re5&#34;&gt;-utest2&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-p654321&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-P3306&lt;/span&gt; test2&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;sy0&#34;&gt;;;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;&lt;span class=&#34;sy0&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;kw3&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;st_h&#34;&gt;&#39;can not found the flag cmd&#39;&lt;/span&gt;;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;sy0&#34;&gt;;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;kw1&#34;&gt;esac&lt;/span&gt;;
        &lt;/div&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>MySQL中得到当前使用的数据库</title>
      <link>http://:1313/tmp/2012/01/mysql%E4%B8%AD%E5%BE%97%E5%88%B0%E5%BD%93%E5%89%8D%E4%BD%BF%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93/</link>
      <pubDate>Thu, 05 Jan 2012 12:38:06 +0000</pubDate>
      
      <guid>http://:1313/tmp/2012/01/mysql%E4%B8%AD%E5%BE%97%E5%88%B0%E5%BD%93%E5%89%8D%E4%BD%BF%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93/</guid>
      <description>&lt;p&gt;在MySQL中用use 切换使用的数据库（或者在PHP中用mysql_select_db函数)，反过来我们怎样知道正在使用的是哪个数据库呢？&lt;/p&gt;

&lt;p&gt;这种需求很少遇到，但是还是会遇到的：）&lt;/p&gt;

&lt;p&gt;所以找了一下，发现MySQL可以通过&lt;span style=&#34;color: #0000ff;&#34;&gt;select databse()&lt;/span&gt;命令来查看当前使用的数据库。&lt;/p&gt;

&lt;p&gt;ps:&lt;a href=&#34;http://dev.mysql.com/doc/refman/5.0/en/information-functions.html#function_database&#34;&gt;MySQL database函数&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;推荐：&lt;a href=&#34;http://techcrunch.com/2011/11/11/start-making-sense/?utm_source=feedburner&amp;amp;utm_medium=feed&amp;amp;utm_campaign=Feed%3A+Techcrunch+%28TechCrunch%29&#34;&gt;Stop Making Apps&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;再搭车推荐：&lt;/p&gt;

&lt;p&gt;&lt;em&gt;《他们在毕业的前一天爆炸 》《听说》《那些年，我们一起追的女孩》值得一看&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SQL中LIKE的另类玩法</title>
      <link>http://:1313/tmp/2011/12/sql%E4%B8%ADlike%E7%9A%84%E5%8F%A6%E7%B1%BB%E7%8E%A9%E6%B3%95/</link>
      <pubDate>Wed, 21 Dec 2011 11:48:27 +0000</pubDate>
      
      <guid>http://:1313/tmp/2011/12/sql%E4%B8%ADlike%E7%9A%84%E5%8F%A6%E7%B1%BB%E7%8E%A9%E6%B3%95/</guid>
      <description>&lt;p&gt;设想一个场景，我有个关键词屏蔽词库（应该很多网站都有吧），所有的关键词都存储在MySQL中，怎样查询某个字符串是否含有屏蔽关键词？&lt;/p&gt;

&lt;p&gt;比如我们有一个屏蔽词 tom，要屏蔽任何含有tom的词语。&lt;/p&gt;

&lt;p&gt;通常情况下LIKE这样用&lt;/p&gt;

&lt;p&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;SELECT * FROM &lt;code&gt;table&lt;/code&gt; WHERE field LIKE &amp;#8216;%字符串%&amp;#8217;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;下面我们这样玩，来解决上面的问题&lt;/p&gt;

&lt;p&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;SELECT * FROM &lt;code&gt;table&lt;/code&gt; WHERE &amp;#8216;字符串&amp;#8217; LIKE CONCAT(&amp;#8216;%&amp;#8217;,field,&amp;#8217;%&amp;#8217;)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;PS:&lt;/p&gt;

&lt;p&gt;这让我想起了初中时数学课中经常用来做几何证明的逆向思考方式。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>mysql 跨库的触发器</title>
      <link>http://:1313/tmp/2011/10/mysql-%E8%B7%A8%E5%BA%93%E7%9A%84%E8%A7%A6%E5%8F%91%E5%99%A8/</link>
      <pubDate>Wed, 12 Oct 2011 05:48:42 +0000</pubDate>
      
      <guid>http://:1313/tmp/2011/10/mysql-%E8%B7%A8%E5%BA%93%E7%9A%84%E8%A7%A6%E5%8F%91%E5%99%A8/</guid>
      <description>&lt;div id=&#34;_mcePaste&#34;&gt;
  今天遇到一个问题，想通过写一个垮库的触发器来解决。
&lt;/div&gt;

&lt;div&gt;
  其实垮库的触发器和同一个库的触发器，没有多大的区别。
&lt;/div&gt;

&lt;div&gt;
  只需要在操作的表前面加上数据库就可以了。
&lt;/div&gt;

&lt;div&gt;
  另外，触发器是存储在存在触发事件的表对应的数据库中的，
&lt;/div&gt;

&lt;div&gt;
  但是在触发执行语句中不用显示的更换数据库(use　database)。
&lt;/div&gt;

&lt;p&gt;示例代码：&lt;/p&gt;

&lt;div&gt;
  &lt;div class=&#34;codecolorer-container mysql blackboard&#34; style=&#34;overflow:auto;white-space:nowrap;&#34;&gt;
    &lt;table cellspacing=&#34;0&#34; cellpadding=&#34;0&#34;&gt;
      &lt;tr&gt;
        &lt;td class=&#34;line-numbers&#34;&gt;
          &lt;div&gt;
            1&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt;4&lt;br /&gt;5&lt;br /&gt;6&lt;br /&gt;7&lt;br /&gt;8&lt;br /&gt;9&lt;br /&gt;10&lt;br /&gt;11&lt;br /&gt;12&lt;br /&gt;13&lt;br /&gt;14&lt;br /&gt;15&lt;br /&gt;16&lt;br /&gt;17&lt;br /&gt;18&lt;br /&gt;19&lt;br /&gt;20&lt;br /&gt;21&lt;br /&gt;22&lt;br /&gt;23&lt;br /&gt;24&lt;br /&gt;
          &lt;/div&gt;
        &lt;/td&gt;
        
        &lt;td&gt;
          &lt;div class=&#34;mysql codecolorer&#34;&gt;
            &lt;span class=&#34;co2&#34;&gt;#示例1&lt;/span&gt;&lt;br /&gt; DELIMITER $&lt;br /&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=USE&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;USE&lt;/span&gt;&lt;/a&gt; &lt;span class=&#34;st0&#34;&gt;`tom`&lt;/span&gt;$&lt;br /&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=DROP&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;DROP&lt;/span&gt;&lt;/a&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=TRIGGER&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;TRIGGER&lt;/span&gt;&lt;/a&gt; &lt;span class=&#34;coMULTI&#34;&gt;/*!50032 IF EXISTS */&lt;/span&gt; &lt;span class=&#34;st0&#34;&gt;`trigger1`&lt;/span&gt;$&lt;br /&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=CREATE&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;CREATE&lt;/span&gt;&lt;/a&gt;&lt;br /&gt; &lt;span class=&#34;coMULTI&#34;&gt;/*!50017 DEFINER = &#39;root&#39;@&#39;localhost&#39; */&lt;/span&gt;&lt;br /&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=TRIGGER&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;TRIGGER&lt;/span&gt;&lt;/a&gt; &lt;span class=&#34;st0&#34;&gt;`trigger1`&lt;/span&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=AFTER&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;AFTER&lt;/span&gt;&lt;/a&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=INSERT&#34;&gt;&lt;span class=&#34;kw2&#34;&gt;INSERT&lt;/span&gt;&lt;/a&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=ON&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;ON&lt;/span&gt;&lt;/a&gt; &lt;span class=&#34;st0&#34;&gt;`tom`&lt;/span&gt;.&lt;span class=&#34;st0&#34;&gt;`stu`&lt;/span&gt;&lt;br /&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=FOR%20EACH%20ROW&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;FOR EACH ROW&lt;/span&gt;&lt;/a&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=BEGIN&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;BEGIN&lt;/span&gt;&lt;/a&gt;&lt;br /&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=INSERT&#34;&gt;&lt;span class=&#34;kw2&#34;&gt;INSERT&lt;/span&gt;&lt;/a&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=INTO&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;INTO&lt;/span&gt;&lt;/a&gt; &lt;span class=&#34;st0&#34;&gt;`test`&lt;/span&gt;.&lt;span class=&#34;st0&#34;&gt;`coder`&lt;/span&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=VALUES&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;VALUES&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;new.id&lt;span class=&#34;sy2&#34;&gt;,&lt;/span&gt;new.name&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span class=&#34;sy2&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;a href=&#34;http://dev.mysql.com/doc/refman/%35%2E%31/en/control-flow-functions.html&#34;&gt;&lt;span class=&#34;kw12&#34;&gt;END&lt;/span&gt;&lt;/a&gt;&lt;br /&gt; $&lt;br /&gt; DELIMITER &lt;span class=&#34;sy2&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;co2&#34;&gt;#示例2&lt;/span&gt;&lt;br /&gt; DELIMITER &lt;span class=&#34;sy1&#34;&gt;&amp;&lt;/span&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=USE&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;USE&lt;/span&gt;&lt;/a&gt; &amp;nbsp;&lt;span class=&#34;st0&#34;&gt;`shine`&lt;/span&gt; &lt;span class=&#34;sy1&#34;&gt;&amp;&lt;/span&gt; &lt;br /&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=DROP&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;DROP&lt;/span&gt;&lt;/a&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=TRIGGER&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;TRIGGER&lt;/span&gt;&lt;/a&gt; &lt;a href=&#34;http://dev.mysql.com/doc/refman/%35%2E%31/en/control-flow-functions.html&#34;&gt;&lt;span class=&#34;kw12&#34;&gt;IF&lt;/span&gt;&lt;/a&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=EXISTS&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;EXISTS&lt;/span&gt;&lt;/a&gt; &amp;nbsp;&lt;span class=&#34;st0&#34;&gt;`object&lt;span class=&#34;es1&#34;&gt;_&lt;/span&gt;permission&lt;span class=&#34;es1&#34;&gt;_&lt;/span&gt;trigger`&lt;/span&gt; &lt;span class=&#34;sy1&#34;&gt;&amp;&lt;/span&gt; &lt;br /&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=CREATE&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;CREATE&lt;/span&gt;&lt;/a&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=TRIGGER&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;TRIGGER&lt;/span&gt;&lt;/a&gt; &lt;span class=&#34;st0&#34;&gt;`object&lt;span class=&#34;es1&#34;&gt;_&lt;/span&gt;permission&lt;span class=&#34;es1&#34;&gt;_&lt;/span&gt;trigger`&lt;/span&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=AFTER&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;AFTER&lt;/span&gt;&lt;/a&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=UPDATE&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;UPDATE&lt;/span&gt;&lt;/a&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=ON&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;ON&lt;/span&gt;&lt;/a&gt; &amp;nbsp;&lt;span class=&#34;st0&#34;&gt;`object`&lt;/span&gt;&lt;br /&gt; &amp;nbsp;&lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=FOR%20EACH%20ROW&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;FOR EACH ROW&lt;/span&gt;&lt;/a&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=BEGIN&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;BEGIN&lt;/span&gt;&lt;/a&gt; &lt;a href=&#34;http://dev.mysql.com/doc/refman/%35%2E%31/en/control-flow-functions.html&#34;&gt;&lt;span class=&#34;kw12&#34;&gt;IF&lt;/span&gt;&lt;/a&gt; old.&lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=TYPE&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;type&lt;/span&gt;&lt;/a&gt; &lt;span class=&#34;sy1&#34;&gt;=&lt;/span&gt; &amp;nbsp;&lt;span class=&#34;st0&#34;&gt;&#39;product&#39;&lt;/span&gt; &lt;a href=&#34;http://dev.mysql.com/doc/refman/%35%2E%31/en/non-typed-operators.html&#34;&gt;&lt;span class=&#34;kw10&#34;&gt;OR&lt;/span&gt;&lt;/a&gt; old.&lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=TYPE&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;type&lt;/span&gt;&lt;/a&gt; &lt;span class=&#34;sy1&#34;&gt;=&lt;/span&gt; &amp;nbsp;&lt;span class=&#34;st0&#34;&gt;&#39;business&#39;&lt;/span&gt; &lt;a href=&#34;http://dev.mysql.com/doc/refman/%35%2E%31/en/control-flow-functions.html&#34;&gt;&lt;span class=&#34;kw12&#34;&gt;THEN&lt;/span&gt;&lt;/a&gt; &lt;br /&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=UPDATE&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;UPDATE&lt;/span&gt;&lt;/a&gt; &amp;nbsp;&lt;span class=&#34;st0&#34;&gt;`permission`&lt;/span&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=SET&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;SET&lt;/span&gt;&lt;/a&gt; &amp;nbsp;&lt;span class=&#34;st0&#34;&gt;`name`&lt;/span&gt; &lt;span class=&#34;sy1&#34;&gt;=&lt;/span&gt; &lt;a href=&#34;http://dev.mysql.com/doc/refman/%35%2E%31/en/string-functions.html&#34;&gt;&lt;span class=&#34;kw14&#34;&gt;REPLACE&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt; &amp;nbsp;&lt;span class=&#34;st0&#34;&gt;`name`&lt;/span&gt; &lt;span class=&#34;sy2&#34;&gt;,&lt;/span&gt; old.name&lt;span class=&#34;sy2&#34;&gt;,&lt;/span&gt; new.name &lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt; &lt;br /&gt; &lt;a href=&#34;http://search.mysql.com/search?site=refman-%35%31&amp;q=WHERE&#34;&gt;&lt;span class=&#34;kw1&#34;&gt;WHERE&lt;/span&gt;&lt;/a&gt; &lt;span class=&#34;st0&#34;&gt;`object&lt;span class=&#34;es1&#34;&gt;_&lt;/span&gt;id`&lt;/span&gt; &lt;span class=&#34;sy1&#34;&gt;=&lt;/span&gt; old.id&lt;span class=&#34;sy2&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;br /&gt; &lt;a href=&#34;http://dev.mysql.com/doc/refman/%35%2E%31/en/control-flow-functions.html&#34;&gt;&lt;span class=&#34;kw12&#34;&gt;END&lt;/span&gt;&lt;/a&gt; &lt;a href=&#34;http://dev.mysql.com/doc/refman/%35%2E%31/en/control-flow-functions.html&#34;&gt;&lt;span class=&#34;kw12&#34;&gt;IF&lt;/span&gt;&lt;/a&gt; &lt;span class=&#34;sy2&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;br /&gt; &lt;a href=&#34;http://dev.mysql.com/doc/refman/%35%2E%31/en/control-flow-functions.html&#34;&gt;&lt;span class=&#34;kw12&#34;&gt;END&lt;/span&gt;&lt;/a&gt; &lt;span class=&#34;sy1&#34;&gt;&amp;&lt;/span&gt; &lt;br /&gt; DELIMITER&lt;span class=&#34;sy2&#34;&gt;;&lt;/span&gt;
          &lt;/div&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&#34;_mcePaste&#34;&gt;
  关于&lt;a href=&#39;http://dev.mysql.com/doc/refman/5.1/zh/triggers.html&#39;&gt;触发器&lt;/a&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>【转载】MySQL 常用用户管理命令</title>
      <link>http://:1313/tmp/2011/07/%E8%BD%AC%E8%BD%BDmysql-%E5%B8%B8%E7%94%A8%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4/</link>
      <pubDate>Mon, 04 Jul 2011 08:48:37 +0000</pubDate>
      
      <guid>http://:1313/tmp/2011/07/%E8%BD%AC%E8%BD%BDmysql-%E5%B8%B8%E7%94%A8%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4/</guid>
      <description>&lt;div class=&#34;codecolorer-container bash blackboard&#34; style=&#34;overflow:auto;white-space:nowrap;&#34;&gt;
  &lt;table cellspacing=&#34;0&#34; cellpadding=&#34;0&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;line-numbers&#34;&gt;
        &lt;div&gt;
          1&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt;4&lt;br /&gt;5&lt;br /&gt;6&lt;br /&gt;7&lt;br /&gt;8&lt;br /&gt;9&lt;br /&gt;10&lt;br /&gt;11&lt;br /&gt;12&lt;br /&gt;13&lt;br /&gt;14&lt;br /&gt;15&lt;br /&gt;16&lt;br /&gt;17&lt;br /&gt;18&lt;br /&gt;19&lt;br /&gt;20&lt;br /&gt;21&lt;br /&gt;22&lt;br /&gt;23&lt;br /&gt;24&lt;br /&gt;25&lt;br /&gt;26&lt;br /&gt;27&lt;br /&gt;28&lt;br /&gt;29&lt;br /&gt;30&lt;br /&gt;31&lt;br /&gt;32&lt;br /&gt;33&lt;br /&gt;34&lt;br /&gt;35&lt;br /&gt;36&lt;br /&gt;37&lt;br /&gt;38&lt;br /&gt;39&lt;br /&gt;40&lt;br /&gt;41&lt;br /&gt;42&lt;br /&gt;43&lt;br /&gt;44&lt;br /&gt;45&lt;br /&gt;46&lt;br /&gt;47&lt;br /&gt;48&lt;br /&gt;49&lt;br /&gt;50&lt;br /&gt;51&lt;br /&gt;52&lt;br /&gt;53&lt;br /&gt;54&lt;br /&gt;55&lt;br /&gt;56&lt;br /&gt;57&lt;br /&gt;58&lt;br /&gt;59&lt;br /&gt;60&lt;br /&gt;61&lt;br /&gt;62&lt;br /&gt;63&lt;br /&gt;64&lt;br /&gt;65&lt;br /&gt;66&lt;br /&gt;67&lt;br /&gt;68&lt;br /&gt;69&lt;br /&gt;70&lt;br /&gt;71&lt;br /&gt;72&lt;br /&gt;73&lt;br /&gt;74&lt;br /&gt;75&lt;br /&gt;76&lt;br /&gt;77&lt;br /&gt;78&lt;br /&gt;79&lt;br /&gt;80&lt;br /&gt;81&lt;br /&gt;82&lt;br /&gt;83&lt;br /&gt;84&lt;br /&gt;85&lt;br /&gt;
        &lt;/div&gt;
      &lt;/td&gt;
      
      &lt;td&gt;
        &lt;div class=&#34;bash codecolorer&#34;&gt;
          &lt;span class=&#34;nu0&#34;&gt;1&lt;/span&gt;、添加用户&lt;br /&gt; &lt;br /&gt; 本机访问权限：&lt;br /&gt; mysql&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; GRANT ALL PRIVILEGES ON &lt;span class=&#34;sy0&#34;&gt;*&lt;/span&gt;.&lt;span class=&#34;sy0&#34;&gt;*&lt;/span&gt; TO &lt;span class=&#34;st_h&#34;&gt;&#39;username&#39;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;st_h&#34;&gt;&#39;localhost&#39;&lt;/span&gt;&lt;br /&gt; -&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; IDENTIFIED BY &lt;span class=&#34;st_h&#34;&gt;&#39;password&#39;&lt;/span&gt; WITH GRANT OPTION;&lt;br /&gt; 远程访问权限：&lt;br /&gt; mysql&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; GRANT ALL PRIVILEGES ON &lt;span class=&#34;sy0&#34;&gt;*&lt;/span&gt;.&lt;span class=&#34;sy0&#34;&gt;*&lt;/span&gt; TO &lt;span class=&#34;st_h&#34;&gt;&#39;username&#39;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;st_h&#34;&gt;&#39;%&#39;&lt;/span&gt;&lt;br /&gt; -&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; IDENTIFIED BY &lt;span class=&#34;st_h&#34;&gt;&#39;password&#39;&lt;/span&gt; WITH GRANT OPTION;&lt;br /&gt; 另外还有一种方法是直接Insert INTO user，注意这种方法之后需要 FLUSH PRIVILEGES 让服务器重读授权表。&lt;br /&gt; &lt;br /&gt; insert into user&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;host,user,password,ssl_cipher,x509_issuer,x509_subject&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;br /&gt; values&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;‘localhost’,&lt;span class=&#34;st_h&#34;&gt;&#39;xff’,password(‘xff’),”,”,”);&lt;br /&gt; FLUSH PRIVILEGES;&lt;br /&gt; note：1）必须要加上ssl_cipher,x509_issuer,x509_subject三列，以为其默认值不为空（数据库版本为：5.0.51b）&lt;br /&gt; 2）FLUSH PRIVILEGES重载授权表，使权限更改生效&lt;br /&gt; 3）mysql是通过User表，Db表，Host表，Tables_priv 表，Columns_priv 表这5张表实现用户权限控制，均可以通过直接对这些表的操作以达到对用户的管理&lt;br /&gt; &lt;br /&gt; 2、删除用户&lt;br /&gt; &lt;br /&gt; drop user admin@localhost;（@不加默认为“%”）&lt;br /&gt; &lt;br /&gt; 3、权限回收&lt;br /&gt; revoke delete on test.* from admin@&#39;&lt;/span&gt;localhost&lt;span class=&#34;st_h&#34;&gt;&#39;;&lt;br /&gt; &lt;br /&gt; 4、创建用户授权一起实现&lt;br /&gt; grant select,insert,update,delete on *.* to &#39;&lt;/span&gt;admin2′&lt;span class=&#34;sy0&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;st_h&#34;&gt;&#39;%&#39;&lt;/span&gt;&lt;br /&gt; identified by ‘admin2′ with grant option;&lt;br /&gt; note：在mysql中，如果&lt;span class=&#34;sy0&#34;&gt;@&lt;/span&gt;后面的登录范围不同，帐号可以一样&lt;br /&gt; &lt;br /&gt; &lt;span class=&#34;nu0&#34;&gt;5&lt;/span&gt;、限制用户资源&lt;br /&gt; &lt;br /&gt; mysql&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; GRANT ALL ON customer.&lt;span class=&#34;sy0&#34;&gt;*&lt;/span&gt; TO &lt;span class=&#34;st_h&#34;&gt;&#39;francis&#39;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;st_h&#34;&gt;&#39;localhost&#39;&lt;/span&gt;&lt;br /&gt; -&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; IDENTIFIED BY &lt;span class=&#34;st_h&#34;&gt;&#39;frank&#39;&lt;/span&gt;&lt;br /&gt; -&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; WITH MAX_QUERIES_PER_HOUR &lt;span class=&#34;nu0&#34;&gt;20&lt;/span&gt; &lt;br /&gt; -&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; MAX_UPDATES_PER_HOUR &lt;span class=&#34;nu0&#34;&gt;10&lt;/span&gt;&lt;br /&gt; -&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; MAX_CONNECTIONS_PER_HOUR &lt;span class=&#34;nu0&#34;&gt;5&lt;/span&gt; &lt;br /&gt; -&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; MAX_USER_CONNECTIONS &lt;span class=&#34;nu0&#34;&gt;2&lt;/span&gt;;&lt;br /&gt; &lt;br /&gt; &lt;br /&gt; &lt;span class=&#34;nu0&#34;&gt;6&lt;/span&gt;、用户密码设置&lt;br /&gt; &lt;br /&gt; 使用mysqladmin：&lt;br /&gt; shell&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; mysqladmin &lt;span class=&#34;re5&#34;&gt;-u&lt;/span&gt; user_name &lt;span class=&#34;re5&#34;&gt;-h&lt;/span&gt; host_name password &lt;span class=&#34;st0&#34;&gt;&#34;newpwd&#34;&lt;/span&gt;&lt;br /&gt; 或在mysql里执行语句：&lt;br /&gt; mysql&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; SET PASSWORD FOR &lt;span class=&#34;st_h&#34;&gt;&#39;username&#39;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;st_h&#34;&gt;&#39;%&#39;&lt;/span&gt;&lt;br /&gt; = PASSWORD&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;st_h&#34;&gt;&#39;password&#39;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;;&lt;br /&gt; 如果只是更改自己的密码，则：&lt;br /&gt; mysql&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; SET PASSWORD = PASSWORD&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;‘password’&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;;&lt;br /&gt; 在全局级别使用GRANT USAGE语句&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;在&lt;span class=&#34;sy0&#34;&gt;*&lt;/span&gt;.&lt;span class=&#34;sy0&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;来指定某个账户的密码:&lt;br /&gt; mysql&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; GRANT USAGE ON &lt;span class=&#34;sy0&#34;&gt;*&lt;/span&gt;.&lt;span class=&#34;sy0&#34;&gt;*&lt;/span&gt; TO &lt;span class=&#34;st_h&#34;&gt;&#39;username&#39;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;st_h&#34;&gt;&#39;%&#39;&lt;/span&gt;&lt;br /&gt; IDENTIFIED BY &lt;span class=&#34;st_h&#34;&gt;&#39;password&#39;&lt;/span&gt;;&lt;br /&gt; 或直接修改MySQL库表：&lt;br /&gt; mysql&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; UPDATE user SET Password = PASSWORD&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;st_h&#34;&gt;&#39;bagel&#39;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;br /&gt; -&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; WHERE Host = &lt;span class=&#34;st_h&#34;&gt;&#39;%&#39;&lt;/span&gt; AND User = &lt;span class=&#34;st_h&#34;&gt;&#39;francis&#39;&lt;/span&gt;;&lt;br /&gt; mysql&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; FLUSH PRIVILEGES;&lt;br /&gt; &lt;br /&gt; 修改root密码：&lt;br /&gt; update mysql.user &lt;span class=&#34;kw1&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;re2&#34;&gt;password&lt;/span&gt;=password&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;‘passw0rd’&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt; where &lt;span class=&#34;re2&#34;&gt;user&lt;/span&gt;=’root’;&lt;br /&gt; FLUSH PRIVILEGES;&lt;br /&gt; &lt;br /&gt; &lt;span class=&#34;nu0&#34;&gt;7&lt;/span&gt;、关于加密&lt;br /&gt; mysql&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;kw1&#34;&gt;select&lt;/span&gt; PASSWORD&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;st_h&#34;&gt;&#39;password&#39;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;;&lt;br /&gt; +-------------------------------------------+&lt;br /&gt; &lt;span class=&#34;sy0&#34;&gt;|&lt;/span&gt; PASSWORD&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;st_h&#34;&gt;&#39;password&#39;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span class=&#34;sy0&#34;&gt;|&lt;/span&gt;&lt;br /&gt; +-------------------------------------------+&lt;br /&gt; &lt;span class=&#34;sy0&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;*&lt;/span&gt;2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19 &lt;span class=&#34;sy0&#34;&gt;|&lt;/span&gt;&lt;br /&gt; +-------------------------------------------+&lt;br /&gt; &lt;span class=&#34;nu0&#34;&gt;1&lt;/span&gt; row &lt;span class=&#34;kw1&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;kw1&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;nu0&#34;&gt;0.00&lt;/span&gt; sec&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;br /&gt; &lt;br /&gt; mysql&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;kw1&#34;&gt;select&lt;/span&gt; MD5&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;st_h&#34;&gt;&#39;hello&#39;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;;&lt;br /&gt; +----------------------------------+&lt;br /&gt; &lt;span class=&#34;sy0&#34;&gt;|&lt;/span&gt; MD5&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;st_h&#34;&gt;&#39;hello&#39;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;sy0&#34;&gt;|&lt;/span&gt;&lt;br /&gt; +----------------------------------+&lt;br /&gt; &lt;span class=&#34;sy0&#34;&gt;|&lt;/span&gt; 5d41402abc4b2a76b9719d911017c592 &lt;span class=&#34;sy0&#34;&gt;|&lt;/span&gt;&lt;br /&gt; +----------------------------------+&lt;br /&gt; &lt;span class=&#34;nu0&#34;&gt;1&lt;/span&gt; row &lt;span class=&#34;kw1&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;kw1&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;nu0&#34;&gt;0.00&lt;/span&gt; sec&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;br /&gt; &lt;br /&gt; mysql&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;kw1&#34;&gt;select&lt;/span&gt; SHA1&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;st_h&#34;&gt;&#39;abc&#39;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;;&lt;br /&gt; &lt;br /&gt; -&lt;span class=&#34;sy0&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;st_h&#34;&gt;&#39;a9993e364706816aba3e25717850c26c9cd0d89d&#39;&lt;/span&gt;&lt;br /&gt; &lt;br /&gt; SHA1&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;是为字符串算出一个 SHA1 &lt;span class=&#34;nu0&#34;&gt;160&lt;/span&gt;比特检查和，如RFC &lt;span class=&#34;nu0&#34;&gt;3174&lt;/span&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;安全散列算法&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;中所述。&lt;br /&gt; &lt;br /&gt; &lt;span class=&#34;nu0&#34;&gt;8&lt;/span&gt;、授权精确到列&lt;br /&gt; grant &lt;span class=&#34;kw1&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;cur_url,pre_url&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt; on test.abc to admin&lt;span class=&#34;sy0&#34;&gt;@&lt;/span&gt;localhost;
        &lt;/div&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;原文：&lt;a href=&#34;http://www.ha97.com/4109.html&#34;&gt;http://www.ha97.com/4109.html&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>再谈MySQL乱码问题</title>
      <link>http://:1313/tmp/2010/09/%E5%86%8D%E8%B0%88mysql%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/</link>
      <pubDate>Sun, 26 Sep 2010 11:11:52 +0000</pubDate>
      
      <guid>http://:1313/tmp/2010/09/%E5%86%8D%E8%B0%88mysql%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/</guid>
      <description>&lt;p&gt;&lt;strong&gt;MySQL乱码问题&lt;/strong&gt;确实是一个比较头痛的问题。&lt;/p&gt;

&lt;p&gt;前些天又遇到了&lt;a href=&#34;http://www.mysql.com/&#34;&gt;MySQL&lt;/a&gt;的乱码问题，本来我自己做网站的话，现在不会遇到乱码。但是前些天接手的一个网站，前期是一个老师弄了一段时间，然后又找我帮忙弄得，所以到最后迁移的时候又遇到了的编码问题。&lt;/p&gt;

&lt;p&gt;在解决的时候找到了一个办法。场景是这样的，我们是用&lt;a href=&#34;http://www.dedecms.com/&#34;&gt;DEDE&lt;/a&gt;做的网站，原先使用GBK做的，后来要迁移到UTF8上来。我们知道直接在数据库中改变编码会导致数据库中的数据直接在数据库中存储的都是乱码，所以我这样解决的问题，用&lt;a href=&#34;http://www.phpmyadmin.net/&#34;&gt;phpMyAdmin&lt;/a&gt;的导出功能导出GBK编码的数据，然后打开导出的SQL文件，然后搜索替换里面的GBK关键词为UTF8，然后接SQL导出文件导入到目标机器。这样就可以平滑的将数据库由GBK变为UTF8的编码。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>php读取mysql中文乱码问题</title>
      <link>http://:1313/tmp/2009/11/php%E8%AF%BB%E5%8F%96mysql%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/</link>
      <pubDate>Sun, 22 Nov 2009 12:31:50 +0000</pubDate>
      
      <guid>http://:1313/tmp/2009/11/php%E8%AF%BB%E5%8F%96mysql%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/</guid>
      <description>&lt;p&gt;&lt;a class=&#34;wpgallery&#34; title=&#34;php中文乱码问题&#34; href=&#34;http://blog.webfuns.net/archives/288.html&#34; target=&#34;_blank&#34;&gt;php中文乱码问题&lt;/a&gt;几乎是每一个php初学者都要遇到的问题，php中文乱码问题最典型的就是php读取&lt;a class=&#34;wpgallery&#34; title=&#34;mysql&#34; href=&#34;http://mysql.com&#34; target=&#34;_blank&#34;&gt;mysql&lt;/a&gt;或向mysql写入数据的时候出现的中文乱码问题。出现php中文乱码问题的时候一般可以通过一下两种方法解决：&lt;/p&gt;

&lt;p&gt;(1) &lt;strong&gt;最简单的修改方法，就是修改mysql的my.ini文件中的字符集键值。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;如 default-character-set = utf8&lt;/p&gt;

&lt;p&gt;character_set_server = utf8&lt;/p&gt;

&lt;p&gt;修改完后，重启mysql的服务，service mysql restart&lt;/p&gt;

&lt;p&gt;（2）&lt;strong&gt;发送查询query 查询前发送SET NAMES &amp;#8216;utf8&amp;#8217;语句。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;mysql_query(&amp;#8220;set names utf8&amp;#8243;);&lt;/p&gt;

&lt;p&gt;之后就可以正常的发送自己的查询语句了。&lt;/p&gt;

&lt;p&gt;通过上面的两个方法一般就可以解决&lt;a class=&#34;wpgallery&#34; title=&#34;php&#34; href=&#34;http://php.net&#34; target=&#34;_blank&#34;&gt;php&lt;/a&gt;读取mysql中文乱码的问题&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>