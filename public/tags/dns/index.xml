<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Dns on 趣味互联网</title>
    <link>http://:1313/tmp/tags/dns/</link>
    <description>Recent content in Dns on 趣味互联网</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 16 Jan 2012 14:02:08 +0000</lastBuildDate>
    <atom:link href="http://:1313/tmp/tags/dns/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>DNS预获取（dns-prefetch）</title>
      <link>http://:1313/tmp/2012/01/dns%E9%A2%84%E8%8E%B7%E5%8F%96dns-prefetch/</link>
      <pubDate>Mon, 16 Jan 2012 14:02:08 +0000</pubDate>
      
      <guid>http://:1313/tmp/2012/01/dns%E9%A2%84%E8%8E%B7%E5%8F%96dns-prefetch/</guid>
      <description>&lt;p&gt;今天翻看twitter的源码的时候看到了一下内容：&lt;/p&gt;

&lt;p&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;&lt;link rel=&amp;#8221;dns-prefetch&amp;#8221; href=&amp;#8221;http://a0.twimg.com&amp;#8221;/&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;&lt;link rel=&amp;#8221;dns-prefetch&amp;#8221; href=&amp;#8221;http://a1.twimg.com&amp;#8221;/&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;&lt;link rel=&amp;#8221;dns-prefetch&amp;#8221; href=&amp;#8221;http://a2.twimg.com&amp;#8221;/&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;&lt;link rel=&amp;#8221;dns-prefetch&amp;#8221; href=&amp;#8221;http://a3.twimg.com&amp;#8221;/&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;&lt;link rel=&amp;#8221;dns-prefetch&amp;#8221; href=&amp;#8221;http://api.twitter.com&amp;#8221;/&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;查阅了相关资料，知道DNS Prefetch也就是DNS预获取，也是前段优化的一部分。在前段优化中关于DNS的有两点：一是减少DNS的请求次数，第二个就是进行DNS预先获取。&lt;/p&gt;

&lt;p&gt;DNS Prefetch 已经被下面的浏览器支持&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Firefox: 3.5+&lt;/li&gt;
&lt;li&gt;Chrome: Supported&lt;/li&gt;
&lt;li&gt;Safari 5+&lt;/li&gt;
&lt;li&gt;Opera: Unknown&lt;/li&gt;
&lt;li&gt;IE: 9 (called &amp;#8220;Pre-resolution&amp;#8221; on blogs.msdn.com)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;默认情况下浏览器会对页面中和当前域名（正在浏览网页的域名）不在同一个域的域名进行预获取，并且缓存结果，这就是隐式的DNS Prefetch。如果想对页面中没有出现的域进行预获取，那么就要使用显示的DNS　Prefetch了，也就是使用link标签：&lt;/p&gt;

&lt;p&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;&lt;link rel=&amp;#8221;dns-prefetch&amp;#8221; href=&amp;#8221;http://api.twitter.com&amp;#8221;/&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;DNS Prefetch应该尽量的放在网页的前面，推荐放在&lt;meta charset=&amp;#8221;/&gt;后面。&lt;/p&gt;

&lt;p&gt;PS:可以通过下面的标签禁止隐式的DNS Prefetch。&lt;br /&gt;
&lt;span style=&#34;color: #0000ff;&#34;&gt;&lt;meta http-equiv=&amp;#8221;x-dns-prefetch-control&amp;#8221; content=&amp;#8221;off&amp;#8221;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;内容整理自：&lt;a href=&#34;https://github.com/h5bp/html5-boilerplate/wiki/DNS-Prefetching&#34;&gt;DNS-Prefetching&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;参考：&lt;br /&gt;
&lt;a href=&#34;http://www.dbanotes.net/web/dns_prefetching.html&#34;&gt;网站优化应重视 DNS 预获取(DNS Prefetching)&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>搜索引擎友好的WordPress更换域名过程和注意事项</title>
      <link>http://:1313/tmp/2009/12/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E5%8F%8B%E5%A5%BD%E7%9A%84wordpress%E6%9B%B4%E6%8D%A2%E5%9F%9F%E5%90%8D%E8%BF%87%E7%A8%8B%E5%92%8C%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/</link>
      <pubDate>Thu, 17 Dec 2009 09:12:38 +0000</pubDate>
      
      <guid>http://:1313/tmp/2009/12/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E5%8F%8B%E5%A5%BD%E7%9A%84wordpress%E6%9B%B4%E6%8D%A2%E5%9F%9F%E5%90%8D%E8%BF%87%E7%A8%8B%E5%92%8C%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/</guid>
      <description>&lt;div style=&#34;font-size: 12px;&#34;&gt;
  &lt;p&gt;
    由于.cn域名的前途堪忧，所以最终决定把我的&lt;a href=&#34;http://www.wordpress.org&#34;&gt;wordpress&lt;/a&gt;博客&lt;a href=&#34;http://blog.webfuns.net&#34;&gt;趣味互联网&lt;/a&gt;的域名从http://blog.webfuns.cn更换成http://blog.webfuns.net。整个过程中的关键就是要保证seo友好，对&lt;a class=&#34;wpgallery&#34; title=&#34;google 等搜索引擎的结果的相关性与正确性&#34; href=&#34;http://blog.webfuns.net/archives/366.html&#34; target=&#34;_blank&#34;&gt;搜索引擎排名&lt;/a&gt;的影响降到最低。因此整个迁移过程比较谨慎，不过还算顺利，现在整理出更换的过程和注意事项。
  &lt;/p&gt;
  
  &lt;p&gt;
    要保证seo友好，整个域名迁移过程中最重要的事情就是要做好301重定向。还有就是要保证新域名不能产生死链。
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;strong&gt;准备&lt;/strong&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    （1）首先要做的就是把给新域名添加A记录，指向你博客空间的ip地址。&lt;br /&gt; （2）数据备份
  &lt;/p&gt;
  
  &lt;p&gt;
    推荐进行数据库的完全备份，这个可以通过&lt;a href=&#34;http://www.phpmyadmin.net/home_page/index.php&#34;&gt;phpmyadmin&lt;/a&gt;实现或者可以通过插件实现。如果不方便进行数据库文件备份，也可以使用wordpress自带的导出功能。如果在更换域名过程中出现以外，这样可以最大限度的保证数据的完整性。
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;strong&gt;博客自身的处理：&lt;/strong&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    （1）更改博客的永久链接。
  &lt;/p&gt;
  
  &lt;p&gt;
    WordPress后台设置&amp;#8212;-&gt;常规
  &lt;/p&gt;
  
  &lt;p&gt;
    wordpress安装地址(url)：新域名（&lt;a href=&#34;http://blog.webfuns.net/&#34;&gt;http://blog.webfuns.net&lt;/a&gt;)
  &lt;/p&gt;
  
  &lt;p&gt;
    博客地址(url)：新域名（&lt;a href=&#34;http://blog.webfuns.net/&#34;&gt;http://blog.webfuns.net&lt;/a&gt;)
  &lt;/p&gt;
  
  &lt;p&gt;
    做好这些设置之后，在固定链接页面中点击更新按钮，这样可以更新博客的.htaccess文件。
  &lt;/p&gt;
  
  &lt;p&gt;
    （2）更新博客文章内容的绝对链接
  &lt;/p&gt;
  
  &lt;p&gt;
    就是seo中常说的内部链接，更新这些链接为新域名要通过运行sql语句来实现。
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;span style=&#34;color: #0000ff;&#34;&gt;Update&lt;/span&gt; wp_posts &lt;span style=&#34;color: #0000ff;&#34;&gt;set&lt;/span&gt; post_content&lt;span style=&#34;color: #0000ff;&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;replac&lt;span style=&#34;color: #0000ff;&#34;&gt;e&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;(&lt;/span&gt;post_content,&amp;#8217;http://old.com&amp;#8217;,&amp;#8217;http://new.com&amp;#8217;&lt;span style=&#34;color: #0000ff;&#34;&gt;)&lt;/span&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    （3）更新ping链接
  &lt;/p&gt;
  
  &lt;p&gt;
    如果你的博客内容之间有链接，wordpress会记录这些链接。在上一步中我们改的只是文章内的这些链接，但是被引用文章的ping链接并没有改变。所以我们还要使用同样的方式去更新这些链接。
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;span style=&#34;color: #0000ff;&#34;&gt;Update&lt;/span&gt; wp_posts &lt;span style=&#34;color: #0000ff;&#34;&gt;set&lt;/span&gt; pinged&lt;span style=&#34;color: #0000ff;&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;replace&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;(&lt;/span&gt;pinged,&amp;#8217;http://old.com&amp;#8217;,&amp;#8217;&lt;a href=&#34;http://new.com/&#34;&gt;http://new.com&lt;/a&gt;&amp;#8216;&lt;span style=&#34;color: #0000ff;&#34;&gt;)&lt;/span&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;span style=&#34;color: #0000ff;&#34;&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;Update&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt; wp_comments &lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;set&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt; comment_author_url&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;replace&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;(comment_author_url&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;,&amp;#8217;http://old.com&amp;#8217;,&amp;#8217;&lt;/span&gt;&lt;a href=&#34;http://new.com/&#34;&gt;&lt;span style=&#34;color: #000000;&#34;&gt;http://new.com&lt;/span&gt;&lt;/a&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#8216;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;)&lt;/span&gt;&lt;/span&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;strong&gt;接下来要做的就是要做301重定向了&lt;/strong&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    方法有主要有两种。一种是通过apache的mod_rewrite功能，方法如下：
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;span style=&#34;color: #0000ff;&#34;&gt;RewriteEngine on&lt;/span&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;span style=&#34;color: #0000ff;&#34;&gt;RewriteCond %{HTTP_HOST}% ^blog.webfuns.cn(.*)$ [NC]&lt;br /&gt; RewriteRule ^(.*)$ http://blog.webfuns.net/$1 [R=301,L]&lt;/span&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    把以上代码写入.htaccess文件上传到wordpress博客根目录下。然后到wordpress后台，在固定链接中点击更新按钮，更新.htaccess把wordpress的重定向链接规则追加到后面。
  &lt;/p&gt;
  
  &lt;p&gt;
    第二中是通过php文件来实现：
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;span style=&#34;color: #ff0000;&#34;&gt;&lt;?php&lt;/span&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;span style=&#34;color: #0000ff;&#34;&gt;$host&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;$_SERVER&lt;/span&gt;[&amp;#8216;HTTP_HOST&amp;#8217;];
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;span style=&#34;color: #0000ff;&#34;&gt;i&lt;span style=&#34;color: #0000ff;&#34;&gt;f&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;$host&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;==&lt;/span&gt;&amp;#8216;blog.webfuns.cn&amp;#8217;&lt;span style=&#34;color: #0000ff;&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;{&lt;/span&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;span style=&#34;color: #0000ff;&#34;&gt;$uri&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;$&lt;/span&gt;_&lt;span style=&#34;color: #0000ff;&#34;&gt;SERVER&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;&amp;#8216;&lt;/span&gt;HTTP_URI&lt;span style=&#34;color: #0000ff;&#34;&gt;&amp;#8216;&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;;&lt;/span&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;span style=&#34;color: #0000ff;&#34;&gt;header&lt;span style=&#34;color: #0000ff;&#34;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;“&lt;/span&gt;HTTP/1.1  301 move permanetly&lt;span style=&#34;color: #0000ff;&#34;&gt;”);&lt;/span&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;span style=&#34;color: #0000ff;&#34;&gt;header(“&lt;/span&gt;Location:   http://blog.webfuns.net{$uri}&lt;span style=&#34;color: #0000ff;&#34;&gt;”);&lt;/span&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;span style=&#34;color: #0000ff;&#34;&gt;exit;&lt;/span&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;span style=&#34;color: #0000ff;&#34;&gt;}&lt;/span&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;span style=&#34;color: #ff0000;&#34;&gt;?&gt;&lt;/span&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    最后需要做的就是修改你的外链，主要是友情链接和别人引用你博客内容的链接。这个更改比较困难，一般来说更换域名总会丢失一些外部链接，必经更换域名是要付出代价的，所以尽力而为吧，能捡回几个来算几个。
  &lt;/p&gt;
  
  &lt;p&gt;
    &lt;span style=&#34;color: #ff6600;&#34;&gt;&lt;strong&gt;重要提醒：&lt;/strong&gt;&lt;/span&gt;
  &lt;/p&gt;
  
  &lt;p&gt;
    上述关于wordpress更换域名的过程和方法适用的场景是新域名和旧域名使用同一个空间。此外域名的更换确实是一件不容易的事情，如非专业人士还是避而远之为妙。当然如果你的网站巨nb，可以无视google，&lt;a class=&#34;wpgallery&#34; title=&#34;百度&#34; href=&#34;http://baidu.com&#34; target=&#34;_blank&#34;&gt;百度&lt;/a&gt;等搜索引擎的排名的话，那就大胆做吧。
  &lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>DNSPOD落户烟台开发区-烟台互联网</title>
      <link>http://:1313/tmp/2009/11/dnspod%E8%90%BD%E6%88%B7%E7%83%9F%E5%8F%B0%E5%BC%80%E5%8F%91%E5%8C%BA-%E7%83%9F%E5%8F%B0%E4%BA%92%E8%81%94%E7%BD%91/</link>
      <pubDate>Sat, 14 Nov 2009 07:20:51 +0000</pubDate>
      
      <guid>http://:1313/tmp/2009/11/dnspod%E8%90%BD%E6%88%B7%E7%83%9F%E5%8F%B0%E5%BC%80%E5%8F%91%E5%8C%BA-%E7%83%9F%E5%8F%B0%E4%BA%92%E8%81%94%E7%BD%91/</guid>
      <description>&lt;p&gt;今天读到一则新闻：dnspod落户烟台开发区。&lt;/p&gt;

&lt;p&gt;原文如下：&lt;/p&gt;

&lt;p style=&#34;margin-top: 0.6em; margin-right: 0px; margin-bottom: 1.2em; margin-left: 0px; padding: 0px;&#34;&gt;
  今日，国内知名的免费dns服务商&lt;a style=&#34;color: #027ac6; text-decoration: none;&#34; href=&#34;https://www.dnspod.com/&#34; target=&#34;_self&#34;&gt;DNSPOD&lt;/a&gt;的负责人吴洪声通过&lt;a class=&#34;wpgallery&#34; title=&#34;twitter&#34; href=&#34;http://blog.webfuns.net/archives/tag/twitter&#34; target=&#34;_blank&#34;&gt;twitter&lt;/a&gt;，QQ群等多种渠道对外宣布，将会在15号在山东烟台开发区软件园正式开业。
&lt;/p&gt;

&lt;p style=&#34;margin-top: 0.6em; margin-right: 0px; margin-bottom: 1.2em; margin-left: 0px; padding: 0px;&#34;&gt;
  DNSPod 建立于2006年3月份，是一款免费智能DNS产品。DNSPod 可以为同时有电信、网通、教育网服务器的网站提供智能的解析，让电信用户访问电信的服务器，网通的用户访问网通的服务器，达到互联互通的效果。能够让使用双线路或拥有多镜像的网站站长轻松实现智能DNS解析，让用户仅用单域名即可访问到最快速的镜像。DNSPod.COM主要由吴洪声开发维护，于2006年4月1日式上线运营。
&lt;/p&gt;

&lt;p style=&#34;margin-top: 0.6em; margin-right: 0px; margin-bottom: 1.2em; margin-left: 0px; padding: 0px;&#34;&gt;
  &amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8211;end quote&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8212;&amp;#8211;
&lt;/p&gt;

&lt;p style=&#34;margin-top: 0.6em; margin-right: 0px; margin-bottom: 1.2em; margin-left: 0px; padding: 0px;&#34;&gt;
  在twitter上我也发现了相关的信息。这样一个在&lt;a class=&#34;wpgallery&#34; title=&#34;趣味互联网&#34; href=&#34;http://blog.webfuns.net&#34; target=&#34;_blank&#34;&gt;互联网&lt;/a&gt;行业有一定影响力的公司落户烟台，对烟台it人来说确是一件好事。希望吴洪声领导的dnspod可以在烟台获得好的发展。
&lt;/p&gt;

&lt;p style=&#34;margin-top: 0.6em; margin-right: 0px; margin-bottom: 1.2em; margin-left: 0px; padding: 0px;&#34;&gt;
  ps:说不定将来毕业后会到那里工作。
&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>