<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Shell on 趣味互联网</title>
    <link>http://:1313/tmp/tags/shell/</link>
    <description>Recent content in Shell on 趣味互联网</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Thu, 21 Aug 2014 05:33:53 +0000</lastBuildDate>
    <atom:link href="http://:1313/tmp/tags/shell/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>proc_open使用一例</title>
      <link>http://:1313/tmp/2014/08/proc_open%E4%BD%BF%E7%94%A8%E4%B8%80%E4%BE%8B/</link>
      <pubDate>Thu, 21 Aug 2014 05:33:53 +0000</pubDate>
      
      <guid>http://:1313/tmp/2014/08/proc_open%E4%BD%BF%E7%94%A8%E4%B8%80%E4%BE%8B/</guid>
      <description>&lt;p&gt;平时工作中很少用到&lt;a href=&#34;http://cn2.php.net/proc_open&#34;&gt;proc_open&lt;/a&gt;这个函数，最近用这个函数做了一个数据库管理小程序。&lt;/p&gt;

&lt;p&gt;实现如下：&lt;/p&gt;

&lt;div class=&#34;codecolorer-container php blackboard&#34; style=&#34;overflow:auto;white-space:nowrap;&#34;&gt;
  &lt;table cellspacing=&#34;0&#34; cellpadding=&#34;0&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;line-numbers&#34;&gt;
        &lt;div&gt;
          1&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt;4&lt;br /&gt;5&lt;br /&gt;6&lt;br /&gt;7&lt;br /&gt;8&lt;br /&gt;9&lt;br /&gt;10&lt;br /&gt;11&lt;br /&gt;12&lt;br /&gt;13&lt;br /&gt;14&lt;br /&gt;15&lt;br /&gt;16&lt;br /&gt;17&lt;br /&gt;18&lt;br /&gt;19&lt;br /&gt;20&lt;br /&gt;21&lt;br /&gt;22&lt;br /&gt;
        &lt;/div&gt;
      &lt;/td&gt;
      
      &lt;td&gt;
        &lt;div class=&#34;php codecolorer&#34;&gt;
          &lt;span class=&#34;co1&#34;&gt;//file name db.php&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;re0&#34;&gt;$mysql_list&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&lt;/span&gt; &lt;a href=&#34;http://www.php.net/array&#34;&gt;&lt;span class=&#34;kw3&#34;&gt;array&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;st_h&#34;&gt;&#39;test&#39;&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&gt;&lt;/span&gt; &lt;span class=&#34;st_h&#34;&gt;&#39;mysql -hlocalhost -utest -p123456 -P3306 test&#39;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;st_h&#34;&gt;&#39;test2&#39;&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&gt;&lt;/span&gt; &lt;span class=&#34;st_h&#34;&gt;&#39;mysql -h172.16.190.199 -utest2 -p654321 -P3306 test2&#39;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;re0&#34;&gt;$desc&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&lt;/span&gt; &lt;a href=&#34;http://www.php.net/array&#34;&gt;&lt;span class=&#34;kw3&#34;&gt;array&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;nu0&#34;&gt;&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&gt;&lt;/span&gt; STDIN&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;nu0&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&gt;&lt;/span&gt; STDOUT&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;nu0&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&gt;&lt;/span&gt; STDERR&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;re0&#34;&gt;$flag&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;re0&#34;&gt;$argv&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span class=&#34;nu0&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#93;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;re0&#34;&gt;$env&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;re0&#34;&gt;$_ENV&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;re0&#34;&gt;$cwd&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&lt;/span&gt; &lt;a href=&#34;http://www.php.net/getcwd&#34;&gt;&lt;span class=&#34;kw3&#34;&gt;getcwd&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;kw1&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;!&lt;/span&gt;&lt;a href=&#34;http://www.php.net/isset&#34;&gt;&lt;span class=&#34;kw3&#34;&gt;isset&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;re0&#34;&gt;$mysql_list&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span class=&#34;re0&#34;&gt;$flag&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#93;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &lt;a href=&#34;http://www.php.net/exit&#34;&gt;&lt;span class=&#34;kw3&#34;&gt;exit&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;st0&#34;&gt;&#34;can not found the &lt;span class=&#34;es4&#34;&gt;$flag&lt;/span&gt;&#34;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;re0&#34;&gt;$re&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;=&lt;/span&gt; &lt;a href=&#34;http://www.php.net/proc_open&#34;&gt;&lt;span class=&#34;kw3&#34;&gt;proc_open&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;re0&#34;&gt;$cmd&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;re0&#34;&gt;$desc&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;re0&#34;&gt;$pipes&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;re0&#34;&gt;$cwd&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;re0&#34;&gt;$env&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;kw1&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;re0&#34;&gt;$re&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &lt;a href=&#34;http://www.php.net/exit&#34;&gt;&lt;span class=&#34;kw3&#34;&gt;exit&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;st_h&#34;&gt;&#39;failed to execute cmd&#39;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span class=&#34;sy0&#34;&gt;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#125;&lt;/span&gt;
        &lt;/div&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;这样有很多数据库需要管理的时候就比较容易了，直接配置下连接参数，然后：&lt;/p&gt;

&lt;p&gt;php db.php test&lt;/p&gt;

&lt;p&gt;简单实用吧~&lt;/p&gt;

&lt;p&gt;补一个bash实现的。&lt;/p&gt;

&lt;div class=&#34;codecolorer-container bash blackboard&#34; style=&#34;overflow:auto;white-space:nowrap;&#34;&gt;
  &lt;table cellspacing=&#34;0&#34; cellpadding=&#34;0&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;line-numbers&#34;&gt;
        &lt;div&gt;
          1&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt;4&lt;br /&gt;5&lt;br /&gt;6&lt;br /&gt;7&lt;br /&gt;8&lt;br /&gt;9&lt;br /&gt;10&lt;br /&gt;11&lt;br /&gt;12&lt;br /&gt;13&lt;br /&gt;
        &lt;/div&gt;
      &lt;/td&gt;
      
      &lt;td&gt;
        &lt;div class=&#34;bash codecolorer&#34;&gt;
          &lt;span class=&#34;co0&#34;&gt;#!/bin/bash&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;re2&#34;&gt;flag&lt;/span&gt;=&lt;span class=&#34;re4&#34;&gt;$1&lt;/span&gt;;&lt;br /&gt; &lt;span class=&#34;kw1&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;re1&#34;&gt;$flag&lt;/span&gt; &lt;span class=&#34;kw1&#34;&gt;in&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &lt;span class=&#34;st_h&#34;&gt;&#39;test&#39;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;mysql &lt;span class=&#34;re5&#34;&gt;-hlocalhost&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-utest&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-p123456&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-P3306&lt;/span&gt; &lt;span class=&#34;kw3&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;sy0&#34;&gt;;;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &lt;span class=&#34;st_h&#34;&gt;&#39;test2&#39;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;mysql -h172.16.190.199 &lt;span class=&#34;re5&#34;&gt;-utest2&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-p654321&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-P3306&lt;/span&gt; test2&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;sy0&#34;&gt;;;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;&lt;span class=&#34;sy0&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;kw3&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;st_h&#34;&gt;&#39;can not found the flag cmd&#39;&lt;/span&gt;;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;sy0&#34;&gt;;;&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;kw1&#34;&gt;esac&lt;/span&gt;;
        &lt;/div&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>一个简单的日志监控脚本</title>
      <link>http://:1313/tmp/2013/11/%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%97%A5%E5%BF%97%E7%9B%91%E6%8E%A7%E8%84%9A%E6%9C%AC/</link>
      <pubDate>Fri, 22 Nov 2013 14:35:53 +0000</pubDate>
      
      <guid>http://:1313/tmp/2013/11/%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%97%A5%E5%BF%97%E7%9B%91%E6%8E%A7%E8%84%9A%E6%9C%AC/</guid>
      <description>&lt;p&gt;用最小的成本实现的一个日志监控程序，示例如下:&lt;/p&gt;

&lt;div class=&#34;codecolorer-container bash blackboard&#34; style=&#34;overflow:auto;white-space:nowrap;&#34;&gt;
  &lt;table cellspacing=&#34;0&#34; cellpadding=&#34;0&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;line-numbers&#34;&gt;
        &lt;div&gt;
          1&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt;4&lt;br /&gt;5&lt;br /&gt;6&lt;br /&gt;7&lt;br /&gt;8&lt;br /&gt;9&lt;br /&gt;10&lt;br /&gt;11&lt;br /&gt;12&lt;br /&gt;13&lt;br /&gt;14&lt;br /&gt;
        &lt;/div&gt;
      &lt;/td&gt;
      
      &lt;td&gt;
        &lt;div class=&#34;bash codecolorer&#34;&gt;
          &lt;span class=&#34;co0&#34;&gt;#!/bin/sh&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;kw2&#34;&gt;sleep&lt;/span&gt; 5m&lt;br /&gt; &lt;span class=&#34;re2&#34;&gt;log&lt;/span&gt;=&lt;span class=&#34;sy0&#34;&gt;/&lt;/span&gt;var&lt;span class=&#34;sy0&#34;&gt;/&lt;/span&gt;log&lt;span class=&#34;sy0&#34;&gt;/&lt;/span&gt;php5.log&lt;br /&gt; &lt;span class=&#34;kw2&#34;&gt;tail&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-Fn0&lt;/span&gt; &lt;span class=&#34;re1&#34;&gt;$log&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;|&lt;/span&gt; \&lt;br /&gt; &lt;span class=&#34;kw1&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;kw2&#34;&gt;read&lt;/span&gt; line; &lt;span class=&#34;kw1&#34;&gt;do&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;kw3&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;re1&#34;&gt;$line&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;kw2&#34;&gt;grep&lt;/span&gt; &lt;span class=&#34;st_h&#34;&gt;&#39;Fatal error&#39;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;kw1&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#91;&lt;/span&gt; &lt;span class=&#34;re4&#34;&gt;$?&lt;/span&gt; = &lt;span class=&#34;nu0&#34;&gt;&lt;/span&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#93;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;kw1&#34;&gt;then&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;re2&#34;&gt;pids&lt;/span&gt;=$&lt;span class=&#34;br0&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span class=&#34;kw2&#34;&gt;ps&lt;/span&gt; aux &lt;span class=&#34;sy0&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;kw2&#34;&gt;grep&lt;/span&gt; &lt;span class=&#34;re4&#34;&gt;$0&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;kw2&#34;&gt;grep&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-v&lt;/span&gt; &lt;span class=&#34;st_h&#34;&gt;&#39;grep&#39;&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;kw2&#34;&gt;awk&lt;/span&gt; &lt;span class=&#34;st_h&#34;&gt;&#39;{print $2}&#39;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#41;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; php mail_error.php &lt;span class=&#34;st_h&#34;&gt;&#39;PHP Fatal error&#39;&lt;/span&gt; &lt;span class=&#34;st0&#34;&gt;&#34;&lt;span class=&#34;es2&#34;&gt;$line&lt;/span&gt;&#34;&lt;/span&gt; &lt;span class=&#34;co0&#34;&gt;# do what you want to do &lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;kw2&#34;&gt;sh&lt;/span&gt; &lt;span class=&#34;re4&#34;&gt;$0&lt;/span&gt; &lt;span class=&#34;st0&#34;&gt;&#34;$@&#34;&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;&amp;&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;br0&#34;&gt;&amp;#91;&lt;/span&gt; &lt;span class=&#34;st0&#34;&gt;&#34;&lt;span class=&#34;es2&#34;&gt;$pids&lt;/span&gt;&#34;&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;!&lt;/span&gt;= &lt;span class=&#34;st0&#34;&gt;&#34;&#34;&lt;/span&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#93;&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;&amp;&amp;&lt;/span&gt; &lt;span class=&#34;kw2&#34;&gt;kill&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-9&lt;/span&gt; &lt;span class=&#34;re1&#34;&gt;$pids&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span class=&#34;kw1&#34;&gt;fi&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;kw1&#34;&gt;done&lt;/span&gt;
        &lt;/div&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;代码副本：&lt;a href=&#34;https://gist.github.com/tomheng/7600651&#34;&gt;https://gist.github.com/tomheng/7600651&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;程序会在找到第一个错误的时候后会重新启动自己（先kill 掉自己，然后再启动），此外程序开始的时候会有一个休眠时间。这样做防止同一个错误被不断的报错，特别是访问量大的时候可以会造成问题（如果有报警的话，也会造成干扰）。当然这样同时也产生了一个负面问题，因为有休眠时间，所以有可能会漏掉一部分错误日志，不过这个应该影响不大。&lt;/p&gt;

&lt;p&gt;发邮件的话可以用&lt;a href=&#34;https://github.com/PHPMailer/PHPMailer&#34;&gt;PHPMailer&lt;/a&gt;,简单实用，特别是对那些没有安装软件权限的主机。&lt;/p&gt;

&lt;p&gt;顺祝周末愉快，亲～&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Linux 命令wc 小插曲</title>
      <link>http://:1313/tmp/2013/08/linux-%E5%91%BD%E4%BB%A4wc-%E5%B0%8F%E6%8F%92%E6%9B%B2/</link>
      <pubDate>Fri, 30 Aug 2013 14:11:09 +0000</pubDate>
      
      <guid>http://:1313/tmp/2013/08/linux-%E5%91%BD%E4%BB%A4wc-%E5%B0%8F%E6%8F%92%E6%9B%B2/</guid>
      <description>&lt;p&gt;做开发的或多或少都会接触过wc 这个命令吧，手册里说这个命令的的作用是“print newline, word, and byte counts for each file”，一般情况下大家可以用wc -l $file 来统计文件中行数。&lt;/p&gt;

&lt;p&gt;但是你如果按下面这样操作，就会发现一个有趣的事情。&lt;/p&gt;

&lt;div class=&#34;codecolorer-container bash blackboard&#34; style=&#34;overflow:auto;white-space:nowrap;&#34;&gt;
  &lt;table cellspacing=&#34;0&#34; cellpadding=&#34;0&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;line-numbers&#34;&gt;
        &lt;div&gt;
          1&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt;
        &lt;/div&gt;
      &lt;/td&gt;
      
      &lt;td&gt;
        &lt;div class=&#34;bash codecolorer&#34;&gt;
          php &lt;span class=&#34;re5&#34;&gt;-r&lt;/span&gt; &lt;span class=&#34;st_h&#34;&gt;&#39;file_put_contents(&#34;/tmp/a.txt&#34;, implode(PHP_EOL, array(1, 2)));&#39;&lt;/span&gt;;&lt;br /&gt; &lt;span class=&#34;kw2&#34;&gt;wc&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-l&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;/&lt;/span&gt;tmp&lt;span class=&#34;sy0&#34;&gt;/&lt;/span&gt;a.txt &lt;span class=&#34;co0&#34;&gt;#one line&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;kw2&#34;&gt;awk&lt;/span&gt; &lt;span class=&#34;st_h&#34;&gt;&#39;{print NR}&#39;&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;/&lt;/span&gt;tmp&lt;span class=&#34;sy0&#34;&gt;/&lt;/span&gt;a.txt &lt;span class=&#34;co0&#34;&gt;#two lines&lt;/span&gt;
        &lt;/div&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;我理解的这个地方正常应该显示两行才对，因为换行符意思就是结束上一行开始新一行，所以在有一个换行符的情况下应该按两行来处理。这个在工作中有时可能需要注意下，有很多程序可能写入文件的时候都没有在最后添加换行符，所以如果直接用wc可能不够准确。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>如何利用shell命令在特定文件类型中做搜索</title>
      <link>http://:1313/tmp/2012/04/%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8shell%E5%91%BD%E4%BB%A4%E5%9C%A8%E7%89%B9%E5%AE%9A%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E4%B8%AD%E5%81%9A%E6%90%9C%E7%B4%A2/</link>
      <pubDate>Mon, 09 Apr 2012 03:27:22 +0000</pubDate>
      
      <guid>http://:1313/tmp/2012/04/%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8shell%E5%91%BD%E4%BB%A4%E5%9C%A8%E7%89%B9%E5%AE%9A%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E4%B8%AD%E5%81%9A%E6%90%9C%E7%B4%A2/</guid>
      <description>&lt;p&gt;比如在log文件中搜索相应的代码：&lt;/p&gt;

&lt;div class=&#34;codecolorer-container bash blackboard&#34; style=&#34;overflow:auto;white-space:nowrap;&#34;&gt;
  &lt;table cellspacing=&#34;0&#34; cellpadding=&#34;0&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;line-numbers&#34;&gt;
        &lt;div&gt;
          1&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt;4&lt;br /&gt;
        &lt;/div&gt;
      &lt;/td&gt;
      
      &lt;td&gt;
        &lt;div class=&#34;bash codecolorer&#34;&gt;
          &lt;span class=&#34;co0&#34;&gt;#第一种方法,{}在这里指find搜索的结果&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;kw2&#34;&gt;find&lt;/span&gt; &lt;span class=&#34;re1&#34;&gt;$dir&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-type&lt;/span&gt; f &lt;span class=&#34;re5&#34;&gt;-name&lt;/span&gt; &lt;span class=&#34;st_h&#34;&gt;&#39;*.log&#39;&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-exec&lt;/span&gt; &lt;span class=&#34;kw2&#34;&gt;grep&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-o&lt;/span&gt; &lt;span class=&#34;re1&#34;&gt;$pattern&lt;/span&gt; &lt;span class=&#34;br0&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;br0&#34;&gt;&amp;#125;&lt;/span&gt; \;&lt;br /&gt; &lt;span class=&#34;co0&#34;&gt;#第二种方法&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;kw2&#34;&gt;find&lt;/span&gt; &lt;span class=&#34;re1&#34;&gt;$dir&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-type&lt;/span&gt; f &lt;span class=&#34;re5&#34;&gt;-name&lt;/span&gt; &lt;span class=&#34;st_h&#34;&gt;&#39;*.log&#39;&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-print0&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;kw2&#34;&gt;xargs&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-0&lt;/span&gt; &lt;span class=&#34;kw2&#34;&gt;grep&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-o&lt;/span&gt; &lt;span class=&#34;re1&#34;&gt;$pattern&lt;/span&gt;
        &lt;/div&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;参考：&lt;a href=&#34;http://zh.wikipedia.org/wiki/Xargs&#34;&gt;http://zh.wikipedia.org/wiki/Xargs&lt;/a&gt;&lt;br /&gt;
摘录自：&lt;a href=&#34;http://www.unix.com/unix-dummies-questions-answers/53172-how-do-i-grep-specific-file-types.html&#34;&gt;http://www.unix.com/unix-dummies-questions-answers/53172-how-do-i-grep-specific-file-types.html&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Linux中的md5命令</title>
      <link>http://:1313/tmp/2012/04/linux%E4%B8%AD%E7%9A%84md5%E5%91%BD%E4%BB%A4/</link>
      <pubDate>Sun, 01 Apr 2012 05:20:25 +0000</pubDate>
      
      <guid>http://:1313/tmp/2012/04/linux%E4%B8%AD%E7%9A%84md5%E5%91%BD%E4%BB%A4/</guid>
      <description>&lt;p&gt;今天想生成一个字符串的MD5, shell中有一个md5sum命令，但是这个适合用来验证MD5,如果要生成字符串的MD5可以这样&lt;/p&gt;

&lt;p&gt;echo -n &amp;#8216;123456&amp;#8217; | md5sum&lt;/p&gt;

&lt;p&gt;这样不是很方便，so我写了个超简单的shell脚本&lt;/p&gt;

&lt;div class=&#34;codecolorer-container bash blackboard&#34; style=&#34;overflow:auto;white-space:nowrap;&#34;&gt;
  &lt;table cellspacing=&#34;0&#34; cellpadding=&#34;0&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;line-numbers&#34;&gt;
        &lt;div&gt;
          1&lt;br /&gt;2&lt;br /&gt;
        &lt;/div&gt;
      &lt;/td&gt;
      
      &lt;td&gt;
        &lt;div class=&#34;bash codecolorer&#34;&gt;
          &lt;span class=&#34;co0&#34;&gt;#!/bin/bash&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;kw3&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-n&lt;/span&gt; &lt;span class=&#34;re4&#34;&gt;$1&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;|&lt;/span&gt; md5sum &lt;span class=&#34;sy0&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;kw2&#34;&gt;awk&lt;/span&gt; &lt;span class=&#34;st_h&#34;&gt;&#39;{print $1}&#39;&lt;/span&gt;
        &lt;/div&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;a href=&#34;https://gist.github.com/2271597&#34;&gt;https://gist.github.com/2271597&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;将上面的代码写入/user/bin/md5文件，并且给文件加上执行权限。&lt;/p&gt;

&lt;p&gt;于是世界变得美好了；&lt;/p&gt;

&lt;div class=&#34;codecolorer-container bash blackboard&#34; style=&#34;overflow:auto;white-space:nowrap;&#34;&gt;
  &lt;table cellspacing=&#34;0&#34; cellpadding=&#34;0&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;line-numbers&#34;&gt;
        &lt;div&gt;
          1&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt;
        &lt;/div&gt;
      &lt;/td&gt;
      
      &lt;td&gt;
        &lt;div class=&#34;bash codecolorer&#34;&gt;
          md5 &lt;span class=&#34;nu0&#34;&gt;123456&lt;/span&gt;&lt;br /&gt; &lt;br /&gt; &lt;span class=&#34;co0&#34;&gt;#print e10adc3949ba59abbe56e057f20f883e&lt;/span&gt;
        &lt;/div&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>SSH实现免密码登录</title>
      <link>http://:1313/tmp/2012/03/ssh%E5%AE%9E%E7%8E%B0%E5%85%8D%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95/</link>
      <pubDate>Mon, 26 Mar 2012 15:08:56 +0000</pubDate>
      
      <guid>http://:1313/tmp/2012/03/ssh%E5%AE%9E%E7%8E%B0%E5%85%8D%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95/</guid>
      <description>&lt;p&gt;如果用登录远程服务器每次都要输入密码，效率会很低。那么怎么实现SSH的免密码登陆呢？&lt;/p&gt;

&lt;p&gt;方法很简单，先用ssh-keygen生成一对私钥和公钥，然后把公钥添加到远程主机的authorized_keys里就行了。&lt;/p&gt;

&lt;div class=&#34;codecolorer-container bash blackboard&#34; style=&#34;overflow:auto;white-space:nowrap;&#34;&gt;
  &lt;table cellspacing=&#34;0&#34; cellpadding=&#34;0&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;line-numbers&#34;&gt;
        &lt;div&gt;
          1&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt;4&lt;br /&gt;5&lt;br /&gt;6&lt;br /&gt;7&lt;br /&gt;8&lt;br /&gt;9&lt;br /&gt;10&lt;br /&gt;
        &lt;/div&gt;
      &lt;/td&gt;
      
      &lt;td&gt;
        &lt;div class=&#34;bash codecolorer&#34;&gt;
          &lt;span class=&#34;co0&#34;&gt;#生成私钥和公钥，默认放在~/.ssh/文件夹下，也可以自定义，提示输入passphare时，直接回车&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;co0&#34;&gt;#顺利的话就会在~/.ssh/文件夹下生成id_rsa.pub和id_rsa两个文件&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;kw2&#34;&gt;ssh-keygen&lt;/span&gt; &lt;span class=&#34;re5&#34;&gt;-t&lt;/span&gt; rsa&lt;br /&gt; &lt;br /&gt; &lt;span class=&#34;co0&#34;&gt;#把id_rsa.pub上传到远程主机，方法很多，ssh-copy-id只是其中一种&lt;/span&gt;&lt;br /&gt; ssh-copy-id username&lt;span class=&#34;sy0&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;kw2&#34;&gt;hostname&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;co0&#34;&gt;#如果id_rsa.pub在其他文件夹下&lt;/span&gt;&lt;br /&gt; ssh-copy-id &lt;span class=&#34;re5&#34;&gt;-i&lt;/span&gt; &lt;span class=&#34;sy0&#34;&gt;/&lt;/span&gt;path&lt;span class=&#34;sy0&#34;&gt;/&lt;/span&gt;to&lt;span class=&#34;sy0&#34;&gt;/&lt;/span&gt;id_rsa.pub username&lt;span class=&#34;sy0&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;kw2&#34;&gt;hostname&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;co0&#34;&gt;#以后直接使用下面的命令登陆&lt;/span&gt;&lt;br /&gt; &lt;span class=&#34;kw2&#34;&gt;ssh&lt;/span&gt; &lt;span class=&#34;kw2&#34;&gt;hostname&lt;/span&gt;
        &lt;/div&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;摘录自：&lt;a href=&#34;http://blog.leezhong.com/tech/2010/08/28/ssh-tips.html&#34; title=&#34;SSH小技巧&#34;&gt;http://blog.leezhong.com/tech/2010/08/28/ssh-tips.html&lt;/a&gt;&lt;br /&gt;
参考：&lt;a title = &#39;小工具：ssh-copy-id&#39; tithref=&#34;http://hi.baidu.com/thinkinginlamp/blog/item/e74ab051102c5f12367abef6.html&#34;&gt;&lt;a href=&#34;http://hi.baidu.com/thinkinginlamp/blog/item/e74ab051102c5f12367abef6.html&#34;&gt;http://hi.baidu.com/thinkinginlamp/blog/item/e74ab051102c5f12367abef6.html&lt;/a&gt;&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>shell脚本变量学习小记</title>
      <link>http://:1313/tmp/2012/03/shell%E8%84%9A%E6%9C%AC%E5%8F%98%E9%87%8F%E5%AD%A6%E4%B9%A0%E5%B0%8F%E8%AE%B0/</link>
      <pubDate>Mon, 26 Mar 2012 15:02:02 +0000</pubDate>
      
      <guid>http://:1313/tmp/2012/03/shell%E8%84%9A%E6%9C%AC%E5%8F%98%E9%87%8F%E5%AD%A6%E4%B9%A0%E5%B0%8F%E8%AE%B0/</guid>
      <description>&lt;p&gt;转载自：&lt;a href=&#34;http://blog.csdn.net/love__coder/article/details/6744332&#34;&gt;http://blog.csdn.net/love__coder/article/details/6744332&lt;/a&gt;&lt;br /&gt;
&lt;strong&gt;1、查看所有的shell变量&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;set&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2、查看所有的只读shell变量&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;readonly&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;3、变量设置值&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;格式：var_name=var_value&lt;/p&gt;

&lt;p&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;注意&lt;/span&gt;：=连接变量名和变量值，=两侧不能有空格；当值var_value含空格时，需要双引号把var_value包起来&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;4、输出变量值&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;echo $var_name&lt;/p&gt;

&lt;p&gt;echo ${var_name}&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;5、变量值连接&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;echo $var_name1$var_name2&lt;/p&gt;

&lt;p&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;注意&lt;/span&gt;: 两个变量之间没有空格&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;6、查看所有环境变量&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;env&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;7、给环境变量设置值&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;VAR_NAME=VALUE&lt;/p&gt;

&lt;p&gt;export VAR_NAME&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;8、清除变量&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;unset var_name&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;9、导出变量到子脚本中&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;父脚本中定义好变量，然后 export var_name&lt;/p&gt;

&lt;p&gt;子脚本中可以使用该变量. $var_name或${var_name}&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;10、显示脚本执行状态&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;执行完脚步，输入 echo $?&lt;/p&gt;

&lt;p&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;注意&lt;/span&gt;：0，表示成功&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;11、脚本运行的当前进程id&lt;/strong&gt;&lt;br /&gt;
$$&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;12、传递给shell脚本的参数个数&lt;/strong&gt;&lt;br /&gt;
$#&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;13、反引号`&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;设置系统的命令输出到变量&lt;/p&gt;

&lt;p&gt;echo &amp;#8220;shell file name is :`basename $0` &amp;#8221;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;14、以串行形式，打印当前整个目录&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;echo *&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;15、替换运算符&lt;/strong&gt;，&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;1) ${var_name:-def_Val}如果变量var_name存在且为非null，返回该变量的值，否则返回默认值def_Val注意var_name与:之间没有空格，:与-之间可以有空格。主要用途，如果变量未定义，则用默认值.&lt;/li&gt;
&lt;li&gt;2) ${var_name:=val}如果变量var_name存在且为非null，返回该变量的值，否则，把val的值赋给变量var_name，并返回var_name的值val注意var_name与:之间没有空格，:与=之间也不能有空格。&lt;/li&gt;
&lt;li&gt;3)${var_name:?message}，如果变量var_name存在且为非null，返回该变量的值，否则返回该变量的名字var_name:提示信息meesage，并退出当前命令或脚本注意var_name与:之间没有空格，:与?之间也不能有空格。&lt;/li&gt;
&lt;li&gt;4) ${var_name:+val}如果变量var_name存在且为非null，返回val，否则返回null注意var_name与:之间没有空格，:与+之间也不能有空格。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;15、返回变量长度&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;${#val_name}&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;16、显示所有命令行参数&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;$* 或 $@&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;17、算术运算操作 $(())&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;$((var1 opr var2))&lt;/p&gt;

&lt;p&gt;只能是+-*/ 和()运算符，并且只能做整数运算&lt;/p&gt;

&lt;p&gt;例如: $((5+1))&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;18、命令代换$()&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;类似于 反引号`&lt;/p&gt;

&lt;p&gt;例如：echo $(date)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>shell脚本比较运算符及逻辑运算符小结</title>
      <link>http://:1313/tmp/2012/03/shell%E8%84%9A%E6%9C%AC%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6%E5%8F%8A%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6%E5%B0%8F%E7%BB%93/</link>
      <pubDate>Mon, 26 Mar 2012 14:53:00 +0000</pubDate>
      
      <guid>http://:1313/tmp/2012/03/shell%E8%84%9A%E6%9C%AC%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6%E5%8F%8A%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6%E5%B0%8F%E7%BB%93/</guid>
      <description>&lt;p&gt;&lt;strong&gt;1、数值&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;格式：&lt;/p&gt;

&lt;p&gt;test &amp;#8220;num1&amp;#8243; opr &amp;#8220;num2&amp;#8243;&lt;/p&gt;

&lt;p&gt;[ &amp;#8220;num1&amp;#8243; opr &amp;#8220;num2&amp;#8243; ]&lt;/p&gt;

&lt;p&gt;opr 取值：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;相等：-eq&lt;/li&gt;
&lt;li&gt;不等：-ne&lt;/li&gt;
&lt;li&gt;大于：-gt&lt;/li&gt;
&lt;li&gt;小于：-lt 【l是字母L的小写】&lt;/li&gt;
&lt;li&gt;小于等于：-le&lt;/li&gt;
&lt;li&gt;大于等于：-ge&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;2、字符串&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;格式：&lt;/p&gt;

&lt;p&gt;[ str1 opr str2]&lt;/p&gt;

&lt;p&gt;[ opr str ]&lt;/p&gt;

&lt;p&gt;opr取值：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;相等：=&lt;/li&gt;
&lt;li&gt;不等：!=&lt;/li&gt;
&lt;li&gt;空串：-z&lt;/li&gt;
&lt;li&gt;非空串：-n&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;3、文件&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;格式：&lt;/p&gt;

&lt;p&gt;[ opr file ]&lt;/p&gt;

&lt;p&gt;opr取值：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;目录： -d&lt;/li&gt;
&lt;li&gt;文件： -f&lt;/li&gt;
&lt;li&gt;链接： -L&lt;/li&gt;
&lt;li&gt;可读： -r&lt;/li&gt;
&lt;li&gt;可写： -w&lt;/li&gt;
&lt;li&gt;可执行： -x&lt;/li&gt;
&lt;li&gt;文件非空： -s&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;4、逻辑运算符&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;逻辑与： -a 格式： [ condition1 -a condition2 ]&lt;/li&gt;
&lt;li&gt;逻辑或： -o 格式： [ condition1 -o condition2 ]&lt;/li&gt;
&lt;li&gt;逻辑否： ! 格式： [ ! condition ]&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;注意&lt;/span&gt;：[ 与condition 之间必须有空格，condition与] 之间也必须有空格&lt;/p&gt;

&lt;p&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;注意&lt;/span&gt;： -a -o 用在一个[]中间连接多个条件，而 &amp;amp;&amp;amp; || 则用在多个[]之间，连接多个[]条件&lt;/p&gt;

&lt;p&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;非法&lt;/span&gt;： [ condition1 &amp;amp;&amp;amp; condition2 ]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>bash中常用的几个特殊变量</title>
      <link>http://:1313/tmp/2012/03/bash%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E5%87%A0%E4%B8%AA%E7%89%B9%E6%AE%8A%E5%8F%98%E9%87%8F/</link>
      <pubDate>Fri, 23 Mar 2012 11:05:39 +0000</pubDate>
      
      <guid>http://:1313/tmp/2012/03/bash%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E5%87%A0%E4%B8%AA%E7%89%B9%E6%AE%8A%E5%8F%98%E9%87%8F/</guid>
      <description>&lt;p&gt;$* 获得传入脚本的参数列表&lt;/p&gt;

&lt;p&gt;$@ 获得传入脚本的参数列表&lt;/p&gt;

&lt;p&gt;$# 传入参数的个数&lt;/p&gt;

&lt;p&gt;$$ 当前脚本的进程ID&lt;/p&gt;

&lt;p&gt;$!  最近在后台执行的进程ID&lt;/p&gt;

&lt;p&gt;$?  最近执行命令的返回状态&lt;/p&gt;

&lt;p&gt;$- 显示shell使用的当前选项，与set命令功能相同&lt;/p&gt;

&lt;p&gt;$_前一条命令的最后一个参数&lt;/p&gt;

&lt;p&gt;总结自：&lt;a href=&#34;http://www.thegeekstuff.com/2010/05/bash-shell-special-parameters/&#34;&gt;http://www.thegeekstuff.com/2010/05/bash-shell-special-parameters/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>&amp;#8220;sudo !!&amp;#8221;想说爱你不容易</title>
      <link>http://:1313/tmp/2012/03/</link>
      <pubDate>Fri, 23 Mar 2012 05:35:59 +0000</pubDate>
      
      <guid>http://:1313/tmp/2012/03/</guid>
      <description>&lt;p&gt;&amp;#8220;sudo !!&amp;#8221;命令用了有一段时间了，有时候还是能带来很多便利的，but今天才发现这个命令有多危险。&lt;/p&gt;

&lt;p&gt;正常情况下&amp;#8221;sudo !!&amp;#8221;的作用是执行上一条命令， “!!”就是引用的上一条命令。&lt;/p&gt;

&lt;p&gt;但是今天不小心敲成了&amp;#8221;sudo !1&amp;#8243;，可怕的是history中第一条命令是sudo reboot（要是halt之类的更悲剧）。&lt;/p&gt;

&lt;p&gt;一般来说撞这种狗屎运的概率很小，但是···&lt;/p&gt;

&lt;p&gt;所以以后尽量不用&amp;#8221;sudo !!&amp;#8221;了，一定要用也要加倍小心了···&lt;/p&gt;

&lt;p&gt;推荐阅读：&lt;a href=&#34;http://www.thegeekstuff.com/2011/08/bash-history-expansion/&#34;&gt;15 Linux Bash History Expansion Examples You Should Know&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Linux进程相关命令整理</title>
      <link>http://:1313/tmp/2011/03/linux%E8%BF%9B%E7%A8%8B%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86/</link>
      <pubDate>Fri, 18 Mar 2011 11:25:10 +0000</pubDate>
      
      <guid>http://:1313/tmp/2011/03/linux%E8%BF%9B%E7%A8%8B%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86/</guid>
      <description>&lt;p&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;君欲善其事，必先利其器！&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;1）&lt;span style=&#34;color: #008000;&#34;&gt;&amp;amp;&lt;/span&gt;&lt;br /&gt;
这个用在一个命令的最后，可以把这个命令放到后台执行&lt;/p&gt;

&lt;p&gt;2）&lt;span style=&#34;color: #008000;&#34;&gt;ctrl + z&lt;/span&gt;&lt;br /&gt;
可以将一个正在前台执行的命令放到后台，并且暂停&lt;/p&gt;

&lt;p&gt;3）&lt;span style=&#34;color: #008000;&#34;&gt;jobs&lt;/span&gt;&lt;br /&gt;
查看当前有多少在后台运行的命令&lt;/p&gt;

&lt;p&gt;4）&lt;span style=&#34;color: #008000;&#34;&gt;fg&lt;/span&gt;&lt;br /&gt;
将后台中的命令调至前台继续运行&lt;br /&gt;
如果后台中有多个命令，可以用 fg %jobnumber将选中的命令调出，%jobnumber是通过jobs命令查到的后台正在执行的命令的序号(不是pid)&lt;/p&gt;

&lt;p&gt;5）&lt;span style=&#34;color: #008000;&#34;&gt;bg&lt;/span&gt;&lt;br /&gt;
将一个在后台暂停的命令，变成继续执行&lt;br /&gt;
如果后台中有多个命令，可以用bg %jobnumber将选中的命令调出，%jobnumber是通过jobs命令查到的后台正在执行的命令的序号(不是pid)&lt;/p&gt;

&lt;p&gt;6)&lt;span style=&#34;color: #008000;&#34;&gt;ctrl+c&lt;/span&gt;&lt;br /&gt;
终止前台进程&lt;/p&gt;

&lt;p&gt;7)&lt;span style=&#34;color: #008000;&#34;&gt;ps&lt;/span&gt;&lt;br /&gt;
查看进程信息&lt;/p&gt;

&lt;p&gt;8）&lt;span style=&#34;color: #008000;&#34;&gt;kill&lt;/span&gt;&lt;br /&gt;
kill 管理后台的任务.&lt;/p&gt;

&lt;p&gt;9)&lt;span style=&#34;color: #008000;&#34;&gt;nohup&lt;/span&gt;&lt;br /&gt;
用它在后台运行一个命令，即使在用户退出时也不受影响&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>